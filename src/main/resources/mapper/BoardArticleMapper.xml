<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hc.demo.dao.BoardArticleDao">
    <select id="getBoardArticleList" resultType="map">
        SELECT
            b.name, a.uid, a.title, m.Nickname, a.created_date, a.hits
        FROM
            Article as a
        JOIN
            Board as b
        ON
            a.board_uid = b.uid
        JOIN
            Member as m
        ON
            a.member_uid = m.uid
        <if test="board_uid > 0">
            WHERE
            a.board_uid = #{board_uid}
        </if>
        ORDER BY
        uid DESC
        Limit 0, 1000
    </select>
    <select id="getArticle" resultType="com.hc.demo.container.Article">
        SELECT
            uid, board_uid, member_uid, hits, title, content,  created_date
        FROM
            Article
        WHERE
            uid = #{article_uid}
    </select>
    <update id="modifyArticle" parameterType="com.hc.demo.container.Article">
        UPDATE
            Article
        SET
            title = #{title},
            content = #{content}
        WHERE
            uid = #{article_uid}
    </update>
</mapper>